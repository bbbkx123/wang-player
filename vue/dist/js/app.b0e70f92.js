(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09cb":function(t,e,n){"use strict";var i=n("6ec5"),s=n.n(i);s.a},"17e1":function(t,e,n){},1933:function(t,e,n){},"1b04":function(t,e,n){"use strict";var i=n("a852"),s=n.n(i);s.a},2395:function(t,e,n){},"248f":function(t,e,n){},2995:function(t,e,n){},"37bf":function(t,e,n){"use strict";var i=n("1933"),s=n.n(i);s.a},"3c2a":function(t,e,n){},"3d47":function(t,e,n){},"3f07":function(t,e,n){},"433e":function(t,e,n){"use strict";var i=n("3f07"),s=n.n(i);s.a},"473b":function(t,e,n){"use strict";var i=n("be7a"),s=n.n(i);s.a},"47aa":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"playing",(function(){return Fn})),n.d(i,"songlist",(function(){return Un})),n.d(i,"currentIndex",(function(){return Wn})),n.d(i,"lyric",(function(){return Yn})),n.d(i,"currentTime",(function(){return Jn})),n.d(i,"showlist",(function(){return Vn})),n.d(i,"listInfo",(function(){return Gn})),n.d(i,"keywords",(function(){return Xn})),n.d(i,"loopType",(function(){return qn})),n.d(i,"loopPlayList",(function(){return Kn})),n.d(i,"currentSong",(function(){return Qn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{height:t.height},attrs:{id:"app"}},[n("div",{staticClass:"background"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.publicPath+"background-image/p1.jpg"}})]),n("Layout")],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("div",{staticClass:"cloud"},[n("Header"),n("router-view",{staticStyle:{width:"100%"}}),n("player",{ref:"player",staticClass:"layout-player"}),n("LoadingView",{staticClass:"loading-view"})],1)])},c=[],l=(n("c975"),new s["a"]),u=l,h={name:"layout",data:function(){return{height:0}},methods:{click:function(){u.$emit("play-list-blur")}},created:function(){this.$route.path.indexOf("/Main/Home")<0&&this.$router.push({name:"Home"})}},d=h,f=(n("433e"),n("2877")),p=Object(f["a"])(d,o,c,!1,null,null,null),g=p.exports,m={name:"App",components:{Layout:g},data:function(){return{publicPath:"/",height:0}},created:function(){this.height=window.innerHeight+"px"}},v=m,y=(n("7c55"),Object(f["a"])(v,a,r,!1,null,null,null)),b=y.exports,C=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("Menu",{staticClass:"layout-cloud_menu"}),n("div",{staticClass:"layout-cloud_main"},[n("router-view")],1)],1)},x=[],S=(n("a9e3"),{props:{songIndex:{type:Number,default:null}},data:function(){return{}},methods:{}}),w=S,L=(n("473b"),Object(f["a"])(w,_,x,!1,null,null,null)),I=L.exports,T=I,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"main-container"},[n("div",{staticClass:"banner-container"},[t.bannerArr.length>=3?n("div",{staticClass:"banner",on:{mouseenter:t.handleBannerStopScroll,mouseleave:t.handleBannerAutoScroll}},[t._l(t.bannerArr,(function(e,i){return n("div",{key:i,staticClass:"banner-item",class:{prev:t.bannerActions[i].prev,current:t.bannerActions[i].current,next:t.bannerActions[i].next},on:{click:function(){return t.clickBanner(e)}}},[e?n("img",{attrs:{src:e.imageUrl+"?param=540y"+(t.bannerActions[i].current?200:190),alt:""}}):t._e()])})),n("div",{staticClass:"banner-btn prev",on:{click:t.handleBannerScrollForPrevBtn}},[n("span",{staticClass:"iconfont icon-shangyige",staticStyle:{"font-size":"24px"}})]),n("div",{staticClass:"banner-btn next",on:{click:t.handleBannerScrollForNextBtn}},[n("span",{staticClass:"iconfont icon-xiayige",staticStyle:{"font-size":"24px"}})])],2):t._e(),n("div",{staticClass:"tab-container"},t._l(t.bannerArr,(function(e,i){return n("span",{key:i,staticClass:"tab-item",class:{active:i===t.currentIndexOfBanner},on:{mouseenter:function(){return t.touchTabItem(i)},mouseleave:t.handleBannerAutoScroll}})})),0)]),n("div",{staticClass:"recommend-container"},[n("div",{staticClass:"title"},[n("span",{on:{click:t.fun1}},[t._v("推荐歌单")]),n("span",{on:{click:t.more}},[t._v("更多")])]),n("div",{staticClass:"item-container"},t._l(t.data,(function(t,e){return n("div",{key:e,staticClass:"recommend-item-container",class:{"no-margin-right":(e+1)%5===0}},[n("simple-details-view",{attrs:{data:t}})],1)})),0)])])])},$=[],k=(n("d81d"),n("bc3a")),P=n.n(k),E=function(t){return P.a.get("/song/detail",{params:{ids:t}})},A=function(t){return P.a.get("/song/url",{params:{id:t}})},N=function(t){return P.a.get("/playlist/detail",{params:{id:t}})},j=function(t){return P.a.get("/lyric",{params:{id:t}})},B=function(t){return P.a.get("/personalized",{params:{limit:t}})},M=function(t){return P.a.get("/banner",{params:{type:t}})},D=function(t,e,n){return P.a.get("/search",{params:{keywords:t,limit:e,offset:n}})},H=function(t,e,n){return P.a.get("/top/playlist/highquality",{params:{before:t,limit:e,cat:n}})},z=function(t,e,n,i){return P.a.get("/comment/music",{params:{id:t,limit:e,offset:n,before:i}})},R=(n("99af"),n("a15b"),n("fb6a"),n("b0c0"),n("b680"),n("2909")),F=function(t){return t.map((function(t){return{title:t.name,singer:t.ar.map((function(t){return t.name})).join("/"),album:t.al.name,duration:t.dt,songid:t.id,picture:t.al.picUrl}}))},U=function(t){if(null!==t&&"undefined"!==typeof t){if(0===t)return"00:00";if(t=parseFloat(t),"number"===typeof t){var e=function(t){return t>=10?t:"0".concat(t)};return e(Math.floor(t/60))+":"+e((t%60).toFixed(0))}}},W=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),a=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),r=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds();return"".concat(n,"年").concat(i,"月").concat(s,"日 ").concat(a,":").concat(r)},Y=function(t,e,n){var i=this;return function(){var s=arguments;if(0===n){var a=(new Date).getTime();t._timestamp||(t._timestamp=0),a-t._timestamp>e&&(t.call.apply(t,[i].concat(Array.prototype.slice.call(arguments))),t._timestamp=a)}else t._timeout||(t._timeout=setTimeout((function(){t.call.apply(t,[i].concat(Object(R["a"])(s))),t._timeout=null,clearTimeout(t._timeout)}),e))}},J={name:"Home",data:function(){return{data:[],bannerArr:[],bannerActions:[],currentIndexOfBanner:0,timer:null}},watch:{bannerArr:function(t){t.length>2&&(this.currentIndexOfBanner=0,this.handleBannerActive(this.currentIndexOfBanner),this.handleBannerAutoScroll())}},computed:{},methods:{clickBanner:function(t){switch(t.targetType){case 1:this.handlePlaySong(t.targetId);break;case 1e3:this.handleOpenListDetails(t.targetId);break}},handlePlaySong:function(t){E(t).then((function(t){u.$emit("song-play",F(t.data.songs))}))},handleOpenListDetails:function(t){var e=this;N(t).then((function(n){e.$router.push({name:"ListDetails",params:{listid:t}})}))},getPersonalized:function(){var t=this,e=10;B(e).then((function(e){200===e.data.code&&(t.data=e.data.result)}))},getBanner:function(){var t=this,e=0;M(e).then((function(e){200===e.data.code&&(t.bannerArr=e.data.banners)}))},handleBannerScrollForPrevBtn:function(){this.currentIndexOfBanner=0===this.currentIndexOfBanner?this.bannerArr.length-1:this.currentIndexOfBanner-1,this.handleBannerActive(this.currentIndexOfBanner)},handleBannerScrollForNextBtn:function(){this.currentIndexOfBanner=this.currentIndexOfBanner===this.bannerArr.length-1?0:this.currentIndexOfBanner+1,this.handleBannerActive(this.currentIndexOfBanner)},handleBannerInit:function(t){if(t)return t.map((function(){return{prev:!1,current:!1,next:!1}}))},handleBannerActive:function(t){if(this.bannerActions=this.handleBannerInit(this.bannerArr),!this.bannerActions)return console.log("bannerActions is null");0===t?(this.bannerActions[this.bannerActions.length-1].prev=!0,this.bannerActions[0].current=!0,this.bannerActions[1].next=!0):t===this.bannerActions.length-1?(this.bannerActions[this.bannerActions.length-2].prev=!0,this.bannerActions[this.bannerActions.length-1].current=!0,this.bannerActions[0].next=!0):(this.bannerActions[t-1].prev=!0,this.bannerActions[t].current=!0,this.bannerActions[t+1].next=!0)},touchTabItem:function(t){this.handleBannerStopScroll(),this.currentIndexOfBanner=t,this.handleBannerActive(this.currentIndexOfBanner)},handleBannerAutoScroll:function(){var t=this;this.timer||(this.timer=setInterval((function(){t.handleBannerScrollForNextBtn()}),5e3))},handleBannerStopScroll:function(){clearInterval(this.timer),this.timer=null,console.log("stop")},fun1:function(){this.$router.push({name:"FavouriteList"})},more:function(){this.$router.push({name:"OtherList"})}},created:function(){this.getPersonalized(),this.getBanner()},mounted:function(){}},V=J,G=(n("a8cf"),Object(f["a"])(V,O,$,!1,null,null,null)),X=G.exports,q=X,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t._v(" RecommendOfDaily ")])},Q=[],Z={name:"RecommendOfDaily"},tt=Z,et=Object(f["a"])(tt,K,Q,!1,null,null,null),nt=et.exports,it=nt,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("PageList")],1)},at=[],rt=(n("4160"),n("d3b7"),{methods:{getPlayListDetail:function(t){return t?new Promise((function(e,n){try{N(t).then((function(t){if(200===t.data.code){var n=t.data.playlist,i={},s=["tracks","coverImgUrl","name","creator","createTime"];s.forEach((function(t){i[t]=n[t]})),i.tracks=F(i.tracks),e(i)}}))}catch(i){n(i)}})):null},getSongsDetail:function(t){return new Promise((function(e,n){try{E(t).then((function(t){200===t.data.code&&e(F(t.data.songs))}))}catch(i){n(i)}}))}}}),ot={mixins:[rt],props:{songIndex:{type:Number,default:null}},data:function(){return{songsListIds:null}},methods:{getPlayListDetailByMixins:function(t){var e=this;return this.getPlayListDetail(t).then((function(t){var n=JSON.parse(JSON.stringify(t.tracks));delete t.tracks,e.$store.commit("SET_LISTINFO",t),e.$store.commit("SET_SHOWLIST",n)}))}},created:function(){u.$emit("show-loading-view");var t=2300306419;this.getPlayListDetailByMixins(t).then((function(){u.$emit("hide-loading-view")}))}},ct=ot,lt=(n("a055"),Object(f["a"])(ct,st,at,!1,null,null,null)),ut=lt.exports,ht=ut,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-page-container"},[n("div",{staticClass:"song-page-backgorund"}),n("div",{staticClass:"player-main"},[n("div",{staticClass:"left-container"},[n("div",{staticClass:"poster-container"},[n("div",{ref:"poster",staticClass:"poster"},[t.song?n("img",{attrs:{src:t.song.picture+"?param=325y325",alt:""}}):n("div",[t._v("加载中...")])])])]),n("div",{staticClass:"right-container"},[n("div",{staticClass:"right-main-container"},[t.song?n("div",{staticClass:"song-info-container"},[n("div",{staticClass:"title"},[t._v(t._s(t.song.title))]),n("div",{staticClass:"other"},[n("span",{staticClass:"album"},[n("span",{staticStyle:{color:"rgba(255,255,255,0.7)"}},[t._v("专辑: ")]),t._v(t._s(t.song.album))]),n("span",{staticClass:"singer"},[n("span",{staticStyle:{color:"rgba(255,255,255,0.7)"}},[t._v("歌手: ")]),t._v(t._s(t.song.singer))])])]):t._e(),n("div",{ref:"lyricView",staticClass:"lyricList-container"},[t.textArr.length>0?n("ul",{ref:"lyricList",staticClass:"lyric-list"},t._l(t.textArr,(function(e,i){return n("li",{key:i,staticClass:"lyric-text",class:{"lyric-text-ative":t.currentLineNum===i}},[t.hasTranslationLyric?n("div",[n("span",[t._v(t._s(e[0]))]),n("br"),n("span",[t._v(t._s(e[1]))])]):n("div",[n("span",[t._v(t._s(e))])])])})),0):n("ul",[t._v("暂无歌词")])])])])]),n("div",{staticClass:"comment-container"},[n("CommentList")],1)])},ft=[],pt=(n("a434"),n("b64b"),n("ac1f"),n("466d"),n("5319"),n("841c"),n("1276"),n("159b"),400),gt=100,mt={data:function(){return{deg:0,originalLyircObj:{},translationLyricObj:{},viewLyricObj:{},timeArr:[],textArr:[],currentLineNum:0,move:null,hasOriginalLyric:!0,hasTranslationLyric:!0}},watch:{currentTime:function(t){t&&(this.currentLineNum=this.getCurrentLineNum(parseFloat(t)))},currentLineNum:function(t,e){t&&t!==e&&this.scroll(t)},currentIndex:function(t,e){t&&t!==e&&(this.reset(),this.setMoveLength(),this.lyricLoad())}},computed:{song:function(){return this.$store.getters.currentSong},playing:function(){return this.$store.getters.playing},originalLyricString:function(){return this.$store.getters.lyric&&this.$store.getters.lyric.lrc&&this.$store.getters.lyric.lrc.lyric?this.$store.getters.lyric.lrc.lyric:null},translationLyricString:function(){return this.$store.getters.lyric&&this.$store.getters.lyric.tlyric&&this.$store.getters.lyric.tlyric.lyric?this.$store.getters.lyric.tlyric.lyric:null},currentTime:function(){return this.$store.getters.currentTime},currentIndex:function(){return this.$store.getters.currentIndex}},methods:{rotate:function(t){this.$refs.poster&&this.$refs.poster.style&&(this.$refs.poster.style.transform="rotate(".concat(t,"deg)"))},scroll:function(t){if(this.$refs.lyricList&&this.$refs.lyricList.style){var e=-this.move*(t+1);this.$refs.lyricList.style.top="".concat(e+gt,"px")}},reset:function(){var t=this;this.$nextTick((function(){t.$refs.lyricList&&t.$refs.lyricList.style&&(t.$refs.lyricList.style.top="".concat(gt,"px"))}))},getLyricTimeArr:function(){var t=this,e=Object.keys(this.viewLyricObj);return e.map((function(e){return t.getSeconds(e)}))},getLyricTextArr:function(){var t=[];for(var e in this.viewLyricObj)t.push(this.viewLyricObj[e]);return t},getLyricObj:function(t){if(!t)return null;for(var e={},n=t.match(/\[\d{2}:\d{2}\.\d{2,}\]/gm),i=t.replace(/^((?!\[\d{2}:\d{2}\.\d{2,}\]).)*/gm,"").replace(/\n/gm,";").split(";"),s=0;s<i.length;s++)""===i[s]&&i.splice(s--,1);return i.length-=1,i=i.map((function(t){return t.replace(/\[\d{2}:\d{2}\.\d{2,}\]/,"")})),i.forEach((function(t,i){e[n[i]]=t})),e},lyricHandlerForView:function(t,e){var n={};for(var i in e)n[i]=[t[i],e[i]];return n},getSeconds:function(t){var e=t.slice(1,t.length-1);if(e.search(/\d{2}:\d{2}\.\d{2,}/)<0)return t;var n=e.replace(":",",").replace(".",",").split(",");return parseInt(60*n[0])+parseInt(n[1])+parseFloat(n[2]/1e3)},getCurrentLineNum:function(t){for(var e=0;e<this.timeArr.length;e++){if(this.timeArr[e]<t&&t<this.timeArr[e+1]||this.timeArr[e]===t)return e;if(t>this.timeArr[this.timeArr.length-1])return this.timeArr.length-1}},setMoveLength:function(){var t=this;this.$nextTick((function(){if(t.$refs.lyricList&&t.$refs.lyricView){var e=t.$refs.lyricList.clientHeight,n=t.$refs.lyricView.clientHeight;t.move=(e-n+gt+pt/2)/t.timeArr.length}}))},lyricLoad:function(){var t=!0,e=!0;if(!this.originalLyricString)return t=!1,void(this.hasOriginalLyric=t);this.originalLyircObj=this.getLyricObj(this.originalLyricString),this.translationLyricString||(e=!1,this.hasTranslationLyric=e),this.translationLyricObj=this.getLyricObj(this.translationLyricString),this.hasTranslationLyric?this.viewLyricObj=this.lyricHandlerForView(this.originalLyircObj,this.translationLyricObj):this.viewLyricObj=this.originalLyircObj,this.timeArr=this.getLyricTimeArr(),this.textArr=this.getLyricTextArr()}},mounted:function(){this.setMoveLength()},created:function(){var t=this;this.lyricLoad(),u.$on("timeupdate",(function(){t.deg+=3,t.rotate(t.deg)}))}},vt=mt,yt=(n("09cb"),Object(f["a"])(vt,dt,ft,!1,null,null,null)),bt=yt.exports,Ct=bt,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageList")],1)},xt=[],St={mixins:[rt],data:function(){return{}},methods:{getPlayListDetailByMixins:function(t){var e=this;return this.getPlayListDetail(t).then((function(t){var n=JSON.parse(JSON.stringify(t.tracks));delete t.tracks,e.$store.commit("SET_LISTINFO",t),e.$store.commit("SET_SHOWLIST",n)}))}},created:function(){u.$emit("show-loading-view");var t=this.$route.params.listid||null;this.getPlayListDetailByMixins(t).then((function(){u.$emit("hide-loading-view")}))}},wt=St,Lt=Object(f["a"])(wt,_t,xt,!1,null,null,null),It=Lt.exports,Tt=It,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-box-container"},[n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text"},domProps:{value:t.keywords},on:{keydown:t.search,input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),t._m(0)])]),n("List",{attrs:{listType:"search",data:t.searchResult}}),n("div",{staticClass:"page"},[n("Page",{attrs:{total:t.page.total,number:t.page.pageNumber,size:t.page.pageSize}})],1)],1)},$t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("i",{staticClass:"iconfont icon-sousuo"})])}],kt=20,Pt={mixins:[rt],data:function(){return{keywords:null,searchResult:[],page:{pageSize:kt,pageNumber:1,total:null}}},watch:{},computed:{},methods:{getSearchResult:function(t){return D(t,this.page.pageSize,(this.page.pageNumber-1)*this.page.pageSize).then((function(t){try{var e=t.data;if(200!==e.code)return;var n=e.result.songs.map((function(t){return t.id}));return Promise.resolve({ids:n,total:e.result.songCount})}catch(i){return Promise.reject(i)}}))},getTotal:function(t){this.page.total=t},search:function(t){13===t.keyCode&&null!==this.keywords&&""!==this.keywords&&this.keywords.match(/\S/g)&&this.handleSearch(this.keywords)},handleSearch:function(t){var e=this;this.$store.commit("SET_KEYWORDS",t),this.getSearchResult(t).then((function(t){return e.getTotal(t.total),e.getSongsDetail(t.ids.join(","))})).then((function(t){e.searchResult=t}))},click:function(){null!==this.keywords&&""!==this.keywords&&this.keywords.match(/\S/g)&&this.handleSearch(this.keywords)},changePageNumber:function(t){this.page.pageNumber=t,this.handleSearch(this.keywords)}},created:function(){var t=this;this.$store.getters.keywords&&(this.keywords=this.$store.getters.keywords,this.handleSearch(this.keywords)),u.$on("change-page-number",(function(e){t.changePageNumber(e)}))}},Et=Pt,At=(n("71cf"),Object(f["a"])(Et,Ot,$t,!1,null,null,null)),Nt=At.exports,jt=Nt,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"other-list-container"},[n("div",{staticClass:"center-container"},[n("div",{staticClass:"tag-container"},[n("span",{staticClass:"title"},[t._v("热门标签: ")]),t._l(t.tags,(function(e,i){return n("span",{key:i,staticClass:"tag-item",class:{active:!!e.active,"no-border-right":i===t.tags.length-1},on:{click:function(){return t.changeTag(i)}}},[t._v(t._s(e.name))])}))],2),t._l(t.showList,(function(t,e){return n("div",{key:e,staticClass:"recommend-item-container",class:{"no-margin-right":(e+1)%5===0}},[n("simple-details-view",{attrs:{data:t}})],1)})),n("div",{staticClass:"page"},[n("Page",{attrs:{total:t.page.total,number:t.page.pageNumber,size:t.page.pageSize}})],1)],2)])},Mt=[],Dt=(n("96cf"),n("1da1")),Ht=50,zt={data:function(){return{otherList:[],page:{pageSize:Ht,pageNumber:1,total:null},tags:[{name:"华语",active:!1},{name:"流行",active:!1},{name:"摇滚",active:!1},{name:"民谣",active:!1},{name:"电子",active:!1},{name:"另类/独立",active:!1},{name:"轻音乐",active:!1},{name:"影视原声",active:!1},{name:"ACG",active:!1},{name:"怀旧",active:!1}],curentTagIndex:null}},computed:{showList:function(){return this.otherList[this.page.pageNumber-1]},currentTag:function(){return this.curentTagIndex||0===this.curentTagIndex?this.tags[this.curentTagIndex].name:"全部"}},methods:{getOtherListByPageSize:function(t,e){return H(t,Ht,e).then((function(t){if(200===t.data.code){var e=t.data.playlists.map((function(t){return t.picUrl=t.coverImgUrl,delete t.coverImgUrl,t}));return Promise.resolve({list:e,total:t.data.total})}}))},getOtherListAll:function(){var t=this,e=1,n=function(){var i=Object(Dt["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=t.otherList.length>0?t.otherList[t.otherList.length-1][Ht-1].updateTime:null,i.next=3,t.getOtherListByPageSize(s,t.currentTag);case 3:a=i.sent,t.otherList.push(a.list),++e<t.pageTotal&&n();case 6:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();this.getOtherListByPageSize(null,this.currentTag).then((function(e){t.page.total=e.total||0,t.otherList.push(e.list),n()}))},changePageNumber:function(t){this.page.pageNumber=t,console.log(this.otherList)},changeTag:function(t){this.tags[t].active||(this.tags.forEach((function(t){t.active=!1})),this.curentTagIndex=t,this.tags[t].active=!0,this.getTopPlayList(null,this.tags[t].name))}},created:function(){var t=this;this.getOtherListAll(),u.$on("change-page-number",(function(e){t.changePageNumber(e)}))}},Rt=zt,Ft=(n("63c2"),Object(f["a"])(Rt,Bt,Mt,!1,null,null,null)),Ut=Ft.exports,Wt=Ut;s["a"].use(C["a"]);var Yt,Jt=new C["a"]({routes:[{path:"/",redirect:"Home"},{path:"/Main",name:"Main",component:T,children:[{path:"",component:ht},{path:"FavouriteList",name:"FavouriteList",component:ht},{path:"Home",name:"Home",component:q},{path:"RecommendOfDaily",name:"RecommendOfDaily",component:it},{path:"ListDetails/:listid",name:"ListDetails",component:Tt},{path:"Search",name:"Search",component:jt},{path:"OtherList",name:"OtherList",component:Wt}]},{path:"/PlayPage",name:"PlayPage",component:Ct}]}),Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"player"},[n("div",{staticClass:"button-group-wrapper"},[n("div",{staticClass:"prev button-wrapper",on:{click:t.prevBtnClick}},[n("i",{staticClass:"iconfont icon-shangyishou",staticStyle:{"font-size":"32px",color:"#fff"}})]),n("div",{staticClass:"play button-wrapper",on:{click:t.playBtnClick}},[t.playing?n("i",{staticClass:"iconfont icon-zanting3",staticStyle:{"font-size":"36px",color:"#fff"}}):n("i",{staticClass:"iconfont icon-bofang",staticStyle:{"font-size":"36px",color:"#fff"}})]),n("div",{staticClass:"next button-wrapper",on:{click:t.nextBtnClick}},[n("i",{staticClass:"iconfont icon-xiayishou",staticStyle:{"font-size":"32px",color:"#fff"}})])]),n("div",{staticClass:"timeline-wrapper"},[n("div",{staticClass:"time-wrapper",staticStyle:{"margin-right":"5px"}},[n("span",{staticClass:"time-text"},[t._v(t._s(t.formatForPlayTime(t.currentTime)))])]),n("div",{staticClass:"timeline-progress-wrapper"},[n("progress-bar",{attrs:{precent:t.precent},on:{"progress-changing":t.progressChanging,"progress-change":t.progressChange}})],1),n("div",{staticClass:"time-wrapper",staticStyle:{"margin-left":"5px"}},[n("span",{staticClass:"time-text"},[t._v(t._s(t.audio&&t.audio.src?t.formatForPlayTime(t.duration):"00:00"))])])]),n("div",{staticClass:"volume-wrapper"},[t._m(0),n("div",{staticClass:"volumeline-progress-wrapper"},[n("progress-bar",{attrs:{precent:t.precentForVolume},on:{"progress-change":t.progressChangeForVolume}})],1)]),n("div",{staticClass:"other-wrapper"},[n("div",{staticClass:"open-btn",on:{click:t.toggle}},[n("i",{staticClass:"iconfont icon-liebiao"})]),n("div",{staticClass:"loop-btn",on:{click:t.clickLoopBtn}},[n("i",{staticClass:"iconfont icon-",class:"icon-"+t.loopType})])]),n("audio",{ref:"audio",attrs:{loop:t.loop},on:{ended:t.onEnded,timeupdate:t._onTimeUpdate,canplay:t.onCanPlay}})]),t.playListShow?n("div",{staticClass:"mini-playlist-container"},[n("div",{staticClass:"mask",on:{click:t.close}}),n("div",{staticClass:"mini-playlist"},[n("div",{staticClass:"mini-playlist-header"},[n("div",{staticClass:"close-btn-container",staticStyle:{color:"#fff"},on:{click:t.close}},[n("i",{staticClass:"iconfont icon-guanbi"})]),n("div",{staticClass:"total"},[t._v("总"+t._s(t.playlist.length)+"首")])]),n("div",{staticClass:"mini-playlist-main"},t._l(t.playlist,(function(e,i){return n("div",{key:i,staticClass:"mini-playlist-item",class:{odd:(i+1)%2!==0}},[n("div",{staticClass:"current"},[t.currentIndex===i?n("i",{staticClass:"iconfont icon-bofang1"}):t._e()]),n("div",{staticClass:"mini-playlist-item-text title",staticStyle:{display:"inline-block"}},[t._v(t._s(e.title))]),n("div",{staticClass:"mini-playlist-item-text singer"},[t._v(t._s(e.singer))])])})),0)])]):t._e()])},Gt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-right":"20px"}},[n("i",{staticClass:"iconfont icon-yinliang",staticStyle:{"font-size":"15px",color:"#fff"}})])}],Xt={name:"player",data:function(){return{audio:null,dom:{},isPlay:null,currentTime:0,duration:null,volume:0,isProgressChanging:!1,pic_src:null,count:0,songChangeIndex:null,playListShow:!1,playlist:[],loop:!1,loopType:"shunxubofang",isLoopPlayList:!1}},props:{},computed:{precent:function(){return this.currentTime/this.duration},precentForVolume:function(){return this.volume},currentIndex:function(){return this.$store.getters.currentIndex},playing:function(){return this.$store.getters.playing},songlist:function(){return this.$store.getters.songlist}},watch:{songChangeIndex:function(t,e){var n=this;if(t!==e){var i=this.playlist[t];this.pic_src="".concat(i.picture,"?param=50y50"),this.$axios.all([this.getLyric(i.songid),this.getSongUrl(i.songid)]).then(this.$axios.spread((function(t,e){if(200===t.data.code&&n.$store.commit("SET_LYRIC",t.data),200===e.data.code){if(!e.data.data[0].url)return void alert("暂无版权");n.audio.src=e.data.data[0].url}})))}},loopType:function(t,e){t&&t!==e&&(this.playlist="suijibofang"===t?this.random():this.songlist,this.loop="danquxunhuan"===t,this.isLoopPlayList="icon--"===t)}},methods:{random:function(){var t=JSON.parse(JSON.stringify(this.songlist)),e=t.length;while(e){var n,i=parseInt(Math.random()*e);(n=Array.prototype.splice).call.apply(n,[t,e-1,1].concat(Object(R["a"])(Array.prototype.splice.call(t,i,1,t[e-1])))),e--}return t},clickLoopBtn:function(){if(this.songlist&&0!==this.songlist.length){var t=this.$store.getters.loopType;switch(t){case"shunxubofang":this.$store.commit("SET_LOOPTYPE","icon--"),this.loopType="icon--";break;case"icon--":this.$store.commit("SET_LOOPTYPE","danquxunhuan"),this.loopType="danquxunhuan";break;case"danquxunhuan":this.$store.commit("SET_LOOPTYPE","suijibofang"),this.loopType="suijibofang";break;case"suijibofang":this.$store.commit("SET_LOOPTYPE","shunxubofang"),this.loopType="shunxubofang";break;default:this.$store.commit("SET_LOOPTYPE","shunxubofang"),this.loopType="shunxubofang"}}},toggle:function(){this.playListShow=!this.playListShow},close:function(){this.playListShow=!1},progressChangeForVolume:function(t){this.audio.volume=t},prevBtnClick:function(){if(this.audio&&this.audio.src){var t=this.$store.getters.currentIndex;t>0?this.songChangeIndex=t-1:console.log("no")}},nextBtnClick:function(){if(this.audio&&this.audio.src){var t=this.$store.getters.currentIndex;t<this.playlist.length-1?this.songChangeIndex=t+1:console.log("no")}},playBtnClick:function(){this.audio&&this.audio.src&&this.play(!this.$store.getters.playing)},getSongUrl:function(t){return A(t)},getLyric:function(t){return j(t)},progressChange:function(t){this.isProgressChanging=!1,this.audio.currentTime=t*this.audio.duration,this.currentTime=this.audio.currentTime},progressChanging:function(t){this.isProgressChanging=!0,this.currentTime=t*this.audio.duration},onTimeUpdate:function(t){var e=t.target.currentTime;this.$store.commit("SET_CURRENTTIME",e),u.$emit("timeupdate"),this.isProgressChanging||(this.currentTime=e)},_onTimeUpdate:function(t){Y(this.onTimeUpdate,100,0)(t)},formatForPlayTime:function(t){return U(t)},onCanPlay:function(){this.duration=this.audio.duration,this.currentTime=this.audio.currentTime,this.volume=this.audio.volume,this.$store.commit("SET_CURRENTINDEX",this.songChangeIndex),this.$store.commit("SET_CURRENTSONG",this.playlist[this.songChangeIndex]),this.play(!0)},onEnded:function(){this.play(!1),this.currentTime=0,this.currentIndex<this.playlist.length-1?this.songChangeIndex=this.currentIndex+1:this.currentIndex===this.playlist.length-1&&this.isLoopPlayList&&(this.songChangeIndex=0)},play:function(t){t?this.audio.play():this.audio.pause(),this.$store.commit("SET_PLAYING",t)},init:function(t){if(this.audio)return new Error("audio实例已存在");this.audio=this.$refs.audio,t&&(this.audio=t),this.audio.autoplay=!1,this.audio.volume=0,this.isPlay="icon-bofang"},handleSongListPush:function(t){var e=JSON.parse(JSON.stringify(this.songlist));Array.isArray(t)?e.push.apply(e,Object(R["a"])(t)):e.push(t),this.$store.commit("SET_SONGLIST",e)},setSongChangeIndex:function(t){this.songChangeIndex=t},handleNeedPush:function(t){for(var e=0;e<this.songlist.length;e++)if(t===this.songlist[e].songid)return e;return null},handleToggleSong:function(t){this.setSongChangeIndex(t)}},mounted:function(){this.init()},created:function(){var t=this;u.$on("song-play",(function(e){var n=t.handleNeedPush(e.songid);null!==n&&"number"===typeof n?t.handleToggleSong(n):(t.handleSongListPush(e),t.handleToggleSong(t.playlist.length-1))})),u.$on("song-play-all",(function(e){var n=e.songlist,i=e.index;t.$store.commit("SET_SONGLIST",[]),t.handleSongListPush(n),t.playlist=JSON.parse(JSON.stringify(t.songlist)),t.handleToggleSong(i)})),u.$on("play-list-blur",(function(){return t.close()}))}},qt=Xt,Kt=(n("92f2"),Object(f["a"])(qt,Vt,Gt,!1,null,null,null)),Qt=Kt.exports,Zt=Qt,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"cloud-menu"},[n("ul",{staticClass:"menu-list"},[t._m(0),n("li",{staticClass:"list-item",on:{click:t.fun1}})])]),n("div",{staticClass:"mini-detail-container",on:{click:t.goToSongDetails}},[n("div",{staticClass:"poster"},[t.song?n("img",{attrs:{src:t.song.picture+"?param=50y50",alt:""}}):t._e()]),n("div",{staticClass:"info"},[n("div",{staticStyle:{height:"100%",display:"flex","justify-content":"center","flex-direction":"column","margin-left":"10px"}},[t.song?n("div",{staticClass:"info-title",staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.song.title))]):t._e(),t.song?n("div",{staticClass:"info-singer"},[t._v(t._s(t.song.singer))]):t._e()])]),n("div",{staticClass:"other"})])])},ee=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("span",{staticClass:"left-text-wrapper"},[t._v("推荐")]),n("div",{staticClass:"right-icon-wrapper"},[n("span",{staticClass:"icon-item"},[n("i",{staticClass:"iconfont icon-tianjia"})]),n("span",{staticClass:"icon-item"},[n("i",{staticClass:"iconfont icon-zhankai"})])])])}],ne={name:"cloud-menu",props:{urlMenuList:{type:String,default:""}},data:function(){return{menuList:{},currentItem:{uIndex:null,lliIndex:null},previousItem:{uIndex:null,lliIndex:null}}},computed:{song:function(){return this.$store.getters.currentSong}},methods:{goToSongDetails:function(){this.$store.getters.currentTime&&this.$router.push({name:"PlayPage"})},clickMenuItem:function(t,e,n){t&&(null===this.previousItem.uIndex&&null===this.previousItem.lliIndex&&null===this.currentItem.uIndex&&null===this.currentItem.lliIndex?(this.previousItem.uIndex=n,this.previousItem.lliIndex=e):"number"===typeof this.previousItem.uIndex&&"number"===typeof this.previousItem.lliIndex&&(this.previousItem.lliIndex=this.currentItem.lliIndex,this.previousItem.uIndex=this.currentItem.uIndex,this.menuList[this.previousItem.uIndex].children[this.previousItem.lliIndex].active=!1),this.currentItem.uIndex=n,this.currentItem.lliIndex=e,this.menuList[this.currentItem.uIndex].children[this.currentItem.lliIndex].active=!0)},addList:function(){},listToggle:function(){},fun1:function(){this.$router.push({name:"FavouriteList"})}},created:function(){}},ie=ne,se=(n("d21c"),Object(f["a"])(ie,te,ee,!1,null,null,null)),ae=se.exports,re=ae,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cloud-header"},[n("div",{staticClass:"logo-wrapper"},[n("div",{staticStyle:{cursor:"pointer"},on:{click:t.toHomePage}},[n("i",{staticClass:"iconfont icon-yinle1 logo"}),n("span",{staticClass:"title"})])]),n("div",{staticClass:"edit"},[n("div",{staticClass:"prev-btn",staticStyle:{"border-right":"1px solid rgba(255, 255, 255, .3)"},on:{click:t.clickPrevBtn}},[n("i",{staticClass:"iconfont icon-shangyige"})]),n("div",{staticClass:"next-btn",on:{click:t.clickNextBtn}},[n("i",{staticClass:"iconfont icon-xiayige"})])]),n("div",{staticClass:"search-icon-container",on:{click:t.search}},[t._m(0)])])},ce=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-icon-box"},[n("i",{staticClass:"iconfont icon-sousuo"})])}],le={data:function(){return{keywords:null}},methods:{toHomePage:function(){this.$route.path.indexOf("/Main/Home")<0&&this.$router.push({name:"Home"})},search:function(){this.$route.path.indexOf("/Main/Search")<0&&this.$router.push({name:"Search"})},clickPrevBtn:function(){this.$route.path.indexOf("/Main/Home")>=0||(this.$router.go(-1),console.log(this.$router))},clickNextBtn:function(){this.$router.go(1),console.log(this.$router)}}},ue=le,he=(n("37bf"),Object(f["a"])(ue,oe,ce,!1,null,null,null)),de=he.exports,fe=de,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.listInfo?n("div",{staticClass:"page-list"},[n("div",{staticClass:"list-top"},[n("div",{staticClass:"list-top-photo"},[t.listInfo.coverImgUrl?n("img",{attrs:{src:t.listInfo.coverImgUrl+"?param=200y200",alt:""}}):t._e()]),n("div",{staticClass:"list-top-information"},[n("div",{staticClass:"title"},[n("span",{staticClass:"tag"},[t._v("歌单")]),t.listInfo.listName?n("span",{staticClass:"text"},[t._v(t._s(t.listInfo.listName))]):t._e()]),n("div",{staticClass:"user"},[t._m(0),t.listInfo.creator&&t.listInfo.creator.nickname?n("div",{staticClass:"name"},[t._v(t._s(t.listInfo.creator.nickname))]):t._e(),n("div",{staticClass:"date"},[t._v(t._s(t.birthday))])]),n("div",{staticClass:"button-group"},[n("div",{staticClass:"play_all",on:{click:t.handlePlayAll}},[t._v("播放全部")])])])]),n("div",{staticClass:"list-bottom"},[n("List",{attrs:{listType:"details",data:t.showlist}})],1)]):t._e()},ge=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image"},[n("img",{attrs:{src:"/static/image/user30x30.jpg",alt:""}})])}],me={name:"PageList",props:{},data:function(){return{url:null}},watch:{},computed:{showlist:function(){return Array.isArray(this.$store.getters.showlist)?this.$store.getters.showlist:[]},listInfo:function(){return this.$store.getters.listInfo},birthday:function(){var t=new Date(this.listInfo.createTime);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}},methods:{onClickOfTab:function(t,e){this.tabs.forEach((function(t){t.active=!1})),this.tabs[e].active=!0},handlePlayAll:function(){u.$emit("song-play-all",{songlist:this.$store.getters.showlist,index:0})}},created:function(){}},ve=me,ye=(n("1b04"),Object(f["a"])(ve,pe,ge,!1,null,null,null)),be=ye.exports,Ce=be,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBar",staticClass:"progress-bar-container",on:{click:t.progressClick}},[n("div",{staticClass:"progress-bar",on:{mousedown:function(e){return e.preventDefault(),t.progressMouseStart(e)},mousemove:function(e){return e.preventDefault(),t._progressMouseMove(e)},mouseup:function(e){return e.stopPropagation(),t.progressMouseEnd(e)}}},[n("div",{staticClass:"progress-background"}),n("div",{ref:"progress",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper"},[n("div",{staticClass:"progress-btn"})])])])},xe=[],Se=16,we=.1,Le={props:{precent:{type:Number,default:null}},data:function(){return{touch:{initiated:!1,startX:0},barWidth:null}},watch:{precent:function(t){if(t>0&&!this.touch.initiated&&this.barWidth){var e=t*this.barWidth;this.handleOffset(e)}}},methods:{progressMouseStart:function(t){this.touch.initiated=!0,this.touch.startX=t.pageX,this.progressClientWidth=this.$refs.progress.clientWidth,window.startTime=(new Date).getTime()},progressMouseMove:function(t){var e=this;if(this.touch.initiated){var n=t.pageX-this.touch.startX,i=Math.min(this.barWidth,Math.max(0,this.progressClientWidth+n));this.handleOffset(i).then((function(){e.$emit("progress-changing",e.getPrecent())}))}},_progressMouseMove:function(t){Y(this.progressMouseMove,200,0)(t)},progressMouseEnd:function(){this.$emit("progress-change",this.getPrecent()),this.touch.initiated=!1},progressClick:function(t){var e=this,n=((new Date).getTime()-window.startTime)/1e3;if(!(n>we)){var i=this.$refs.progressBar.getBoundingClientRect(),s=t.pageX-i.left;this.handleOffset(s).then((function(){e.$emit("progress-change",e.getPrecent())}))}},handleOffset:function(t){var e=this;return new Promise((function(n,i){try{e.$refs.progress.style.width="".concat(t,"px"),e.$refs.progressBtn.style.transform="translate3d(".concat(t,"px, 0, 0)")}catch(s){i(s)}e.$nextTick((function(){return n()}))}))},getPrecent:function(t){return this.$refs.progress.clientWidth/this.barWidth}},created:function(){},mounted:function(){this.barWidth=this.$refs.progressBar.clientWidth-Se}},Ie=Le,Te=(n("b273"),Object(f["a"])(Ie,_e,xe,!1,null,null,null)),Oe=Te.exports,$e=Oe,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.id?n("div",{staticClass:"simple-details-view-container",style:{width:t.width+"px"}},[n("div",{staticStyle:{position:"relative","z-index":"0",cursor:"pointer"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:t.goToListDetails}},[n("div",{staticClass:"view",style:t._style}),t.isHover?t._e():n("div",{staticClass:"play-count"},[n("span",{staticClass:"text"},[t._v(t._s(t.playCount))])]),t.isHover?n("div",{staticClass:"recommend-info"},[n("span",{staticClass:"text"},[t._v(t._s(t.data.copywriter))])]):t._e(),t.isHover?n("div",{staticClass:"play-btn"},[n("i",{staticClass:"iconfont icon-bofang",staticStyle:{"font-size":"24px",color:"#fff"}})]):t._e()]),n("div",{staticClass:"name"},[t._v(t._s(t.data.name))])]):t._e()},Pe=[],Ee={name:"SimpleDetailsView",props:{width:{type:Number,default:170},height:{type:Number,default:170},data:{type:Object,default:function(){}}},data:function(){return{isHover:!1}},computed:{_style:function(){return{height:"".concat(this.height,"px"),backgroundImage:"url(".concat(this.data.picUrl,"?param=").concat(this.width,"y").concat(this.height,")")}},playCount:function(){return"".concat(parseInt(this.data.playCount/1e4),"万")}},methods:{goToListDetails:function(){this.$router.push({name:"ListDetails",params:{listid:this.data.id}})},mouseenter:function(){this.isHover=!0},mouseleave:function(){this.isHover=!1}}},Ae=Ee,Ne=(n("a074"),Object(f["a"])(Ae,ke,Pe,!1,null,null,null)),je=Ne.exports,Be=je,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"loading-view-container"},[t._v("loading... "),n("loading")],1):t._e()},De=[],He=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ze=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-load2"},[n("div",{staticClass:"line"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div")]),n("div",{staticClass:"circlebg"})])}],Re={},Fe=Re,Ue=(n("86ed"),Object(f["a"])(Fe,He,ze,!1,null,null,null)),We=Ue.exports,Ye={components:{loading:We},data:function(){return{show:!1}},methods:{},created:function(){var t=this;u.$on("show-loading-view",(function(){t.show=!0})),u.$on("hide-loading-view",(function(){t.show=!1}))}},Je=Ye,Ve=(n("642d"),Object(f["a"])(Je,Me,De,!1,null,null,null)),Ge=Ve.exports,Xe=Ge,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-wrapper"},[t.data.length>0?n("div",{staticClass:"list-header"},[n("div",{staticClass:"list-header-item",staticStyle:{width:"50px"}}),n("div",{staticClass:"list-header-item",staticStyle:{width:"50px"}},[t._v("操作")]),t._l(t.listHeader,(function(e,i){return n("div",{key:i,staticClass:"list-header-item",style:{width:e.style.width}},[t._v(t._s(e.name))])}))],2):t._e(),t._l(t.listData,(function(e,i){return n("div",{key:i,staticClass:"list-row",class:{click:i===t.currentIndex},on:{dblclick:function(){return t.play(e,i)}}},[n("div",{staticClass:"list-row-item",staticStyle:{width:"50px"}},[t._v(t._s(i+1))]),n("div",{staticClass:"list-row-item",staticStyle:{width:"50px"}},[n("span",{staticClass:"aixin",staticStyle:{display:"inline-block"}},[n("i",{staticClass:"iconfont",class:{"icon-aixin":e.favourite,"icon-aixin1":!e.favourite},staticStyle:{"font-size":"13px"},style:{color:e.favourite?"#e03f40":"#fff"}})])]),t._l(t.listHeader,(function(i,s){return n("div",{key:s,staticClass:"list-row-item",style:{width:i.style.width}},[t._v(t._s(e[i.type]))])}))],2)}))],2)},Ke=[],Qe={props:{listType:{type:String,default:null},data:{type:Array,default:function(){return[]}}},data:function(){return{listHeader:[{type:"title",name:"音乐标题",style:{width:"33%"}},{type:"singer",name:"歌手",style:{width:"23%"}},{type:"album",name:"专辑",style:{width:"23%"}},{type:"duration",name:"时长",style:{width:"calc(21% - 100px)"}}]}},watch:{},computed:{listData:function(){if(Array.isArray(this.data)&&this.data.length>0){var t=JSON.parse(JSON.stringify(this.data));return t.forEach((function(t){t.duration=U(t.duration/1e3)})),t}return null},currentIndex:function(){return this.$store.getters.currentIndex}},methods:{play:function(t,e){"search"===this.listType?u.$emit("song-play",t):"details"===this.listType&&u.$emit("song-play-all",{songlist:this.$store.getters.showlist,index:e})}}},Ze=Qe,tn=(n("cc5a"),Object(f["a"])(Ze,qe,Ke,!1,null,null,null)),en=tn.exports,nn=en,sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("ul",{staticClass:"page"},[t._l(t.showPageNumber.arr,(function(e,i){return n("li",{key:i,staticClass:"page-item",class:{active:e===t.number},on:{click:function(){return t.changePageNumber(e)}}},[t._v(t._s(e))])})),n("li",[t._v("当前第: "+t._s(t.number)+"页, ")]),n("li",[t._v("共: "+t._s(t.pageTotal)+"页")])],2)])},an=[],rn=2,on={props:{number:{type:Number,default:null},total:{type:Number,default:null},size:{type:Number,default:null}},data:function(){return{}},computed:{showPageNumber:function(){var t=this,e=this.number,n=[e],i=!1,s=!1,a=function(t){for(var s=1;s<=t;s++){if(e-s<=0)break;n.unshift(e-s)}return e-rn<=0&&(i=!0),n},r=function(i){for(var a=1;a<=i;a++){if(e+a>t.total)break;n.push(e+a)}return e+rn>=t.total&&(s=!0),n};return a(rn),r(rn),{arr:n,isMin:i,isMax:s}},pageTotal:function(){return this.total%this.size===0?this.total/this.size:Math.floor(this.total/this.size)+1}},methods:{changePageNumber:function(t){t!==this.number&&u.$emit("change-page-number",t)}},created:function(){}},cn=on,ln=(n("a763"),Object(f["a"])(cn,sn,an,!1,null,null,null)),un=ln.exports,hn=un,dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list"},[n("div",t._l(t.comment.comments,(function(e,i){return n("div",{key:i,staticClass:"comment-item-container"},[n("div",{staticClass:"avatar-container"},[n("div",{staticClass:"avatar",style:{backgroundImage:"url("+e.user.avatarUrl+"?param=35y35)"}})]),n("div",{staticClass:"comment-item-main-container"},[n("div",{staticClass:"comment"},[n("span",{staticClass:"nickname"},[t._v(t._s(e.user.nickname+" : "))]),t._v(" "+t._s(e.content+e.content)+" ")]),n("div",{staticClass:"other"},[n("div",[t._v(t._s(t.format(e.time)))]),n("div")])])])})),0),n("div",{staticClass:"page"},[n("Page",{attrs:{total:t.page.total,number:t.page.pageNumber,size:t.page.pageSize}})],1)])},fn=[],pn=20,gn={data:function(){return{page:{pageSize:pn,pageNumber:1,total:null},comment:{hotComments:[],comments:[]}}},computed:{songid:function(){return this.$store.getters.songlist[this.$store.getters.currentIndex].songid}},watch:{songid:{handler:function(t,e){t&&t!==e&&this.getMusicComment(t)},immediate:!0},"page.pageNumber":function(t){this.getMusicComment(this.songid)}},methods:{getMusicComment:function(t,e){var n=this,i=pn,s=(this.page.pageNumber-1)*i;z(t,i,s,e).then((function(t){200===t.data.code&&(n.page.total=t.data.total,n.comment={hotComments:t.data.hotComments,comments:t.data.comments})}))},format:function(t){return W(t)}},created:function(){var t=this;u.$on("change-page-number",(function(e){t.page.pageNumber=e}))}},mn=gn,vn=(n("8725"),Object(f["a"])(mn,dn,fn,!1,null,null,null)),yn=vn.exports,bn=yn,Cn={Player:Zt,Main:T,Menu:re,Header:fe,PageList:Ce,ProgressBar:$e,SimpleDetailsView:Be,LoadingView:Xe,List:nn,Page:hn,CommentList:bn,Home:q,RecommendOfDaily:it,FavouriteList:ht,PlayPage:Ct,ListDetails:Tt,OtherList:Wt},_n={install:function(t){Object.keys(Cn).forEach((function(e){t.component(e,Cn[e])}))}},xn=_n,Sn=n("2f62"),wn={playing:!1,songlist:[],showlist:[],currentIndex:null,lyric:{},currentTime:null,listInfo:{coverImgUrl:"",name:"",creator:{}},keywords:"",loopType:"shunxubofang",loopPlayList:[],currentSong:null},Ln=wn,In=n("ade3"),Tn="SET_PLAYING",On="SET_SONGLIST",$n="SET_CURRENTINDEX",kn="SET_LYRIC",Pn="SET_CURRENTTIME",En="SET_SHOWLIST",An="SET_LISTINFO",Nn="SET_KEYWORDS",jn="SET_LOOPTYPE",Bn="SET_LOOPPLAYLIST",Mn="SET_CURRENTSONG",Dn=(Yt={},Object(In["a"])(Yt,Tn,(function(t,e){t.playing=e})),Object(In["a"])(Yt,On,(function(t,e){t.songlist=e})),Object(In["a"])(Yt,$n,(function(t,e){t.currentIndex=e})),Object(In["a"])(Yt,kn,(function(t,e){t.lyric=e})),Object(In["a"])(Yt,Pn,(function(t,e){t.currentTime=e})),Object(In["a"])(Yt,En,(function(t,e){t.showlist=e})),Object(In["a"])(Yt,An,(function(t,e){t.listInfo=e})),Object(In["a"])(Yt,Nn,(function(t,e){t.keywords=e})),Object(In["a"])(Yt,jn,(function(t,e){t.loopType=e})),Object(In["a"])(Yt,Bn,(function(t,e){t.loopPlayList=e})),Object(In["a"])(Yt,Mn,(function(t,e){t.currentSong=e})),Yt),Hn=Dn,zn={test:function(t){t.commit("SET_PLAYING",!0)}},Rn=zn,Fn=function(t){return t.playing},Un=function(t){return t.songlist},Wn=function(t){return t.currentIndex},Yn=function(t){return t.lyric},Jn=function(t){return t.currentTime},Vn=function(t){return t.showlist},Gn=function(t){return t.listInfo},Xn=function(t){return t.keywords},qn=function(t){return t.loopType},Kn=function(t){return t.loopPlayList},Qn=function(t){return t.currentSong};s["a"].use(Sn["a"]);var Zn=!1,ti=new Sn["a"].Store({state:Ln,actions:Rn,mutations:Hn,getters:i,strict:Zn}),ei={baseURL:"http://106.13.207.132:3000"},ni=ei;n("82da"),n("debd");P.a.defaults.baseURL=ni.baseURL,P.a.defaults.withCredentials=!0,s["a"].config.productionTip=!1,s["a"].use(xn),s["a"].prototype.$axios=P.a,new s["a"]({render:function(t){return t(b)},router:Jt,store:ti}).$mount("#app")},"63c2":function(t,e,n){"use strict";var i=n("248f"),s=n.n(i);s.a},"642d":function(t,e,n){"use strict";var i=n("fd3a"),s=n.n(i);s.a},"6ec5":function(t,e,n){},"71cf":function(t,e,n){"use strict";var i=n("47aa"),s=n.n(i);s.a},7715:function(t,e,n){},"7c55":function(t,e,n){"use strict";var i=n("2395"),s=n.n(i);s.a},"82da":function(t,e,n){},"82dc":function(t,e,n){},"86ed":function(t,e,n){"use strict";var i=n("17e1"),s=n.n(i);s.a},8725:function(t,e,n){"use strict";var i=n("2995"),s=n.n(i);s.a},"92f2":function(t,e,n){"use strict";var i=n("f8e8"),s=n.n(i);s.a},a055:function(t,e,n){"use strict";var i=n("7715"),s=n.n(i);s.a},a074:function(t,e,n){"use strict";var i=n("f997"),s=n.n(i);s.a},a763:function(t,e,n){"use strict";var i=n("3c2a"),s=n.n(i);s.a},a852:function(t,e,n){},a8cf:function(t,e,n){"use strict";var i=n("3d47"),s=n.n(i);s.a},b273:function(t,e,n){"use strict";var i=n("f441"),s=n.n(i);s.a},be7a:function(t,e,n){},c7b4:function(t,e,n){},cc5a:function(t,e,n){"use strict";var i=n("c7b4"),s=n.n(i);s.a},d21c:function(t,e,n){"use strict";var i=n("82dc"),s=n.n(i);s.a},debd:function(t,e,n){},f441:function(t,e,n){},f8e8:function(t,e,n){},f997:function(t,e,n){},fd3a:function(t,e,n){}});
//# sourceMappingURL=app.b0e70f92.js.map